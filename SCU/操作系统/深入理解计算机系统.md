### 第一章 计算机系统漫游
实践技巧、优化代码、编译器过程调用、识别错误

##### 1 信息就是位+上下文
文本文件
二进制文件

信息用一串比特表示，区分方法：数据对象的上下文


##### 2 程序被其他程序翻译成不同的格式
![[Pasted image 20240407084424.png|500]]

##### 3 了解编译系统如何工作是大有益处的
- 优化程序性能
- 理解链接时出现的问题
- 避免安全漏洞

##### 4 处理器读并解释储存在内存中的指令
###### 系统的硬件组成
总线：携带并传递信息字节
I/O设备
主存：临时存储设备，存放程序和程序处理的数据
	物理上：DRAM
	逻辑上：线性的字节数组
处理器：解释或执行在主存中指令的引擎，核心是一个大小为一个字的存储设备，PC
	指令集架构
	微体系结构


###### 运行hello程序
./hello，字符读入寄存器，存放到内存
回车，加载hello文件，将目标文件中的代码和数据从磁盘复制到主存
处理器执行文件


##### 5 高速缓存至关重要
高速缓存存储器（cache memory），存放处理器近期可能会需要的信息

##### 6 存储设备形成层次结构
![[Pasted image 20240407092839.png|400]]

##### 7 操作系统管理硬件
操作系统的基本功能：
	防止硬件被失控的应用程序滥用
	向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备

###### 进程
进程：对正在运行的程序的一种抽象
并发运行：一个进程的指令和另一个进程的指令是交错执行的
	实现机制称为上下文切换

操作系统保持跟踪进程运行所需的所有状态信息，状态就是上下文，包括PC和寄存器文件的值、主存内容等

一个进程到另一个进程的转换是由操作系统*内核*管理的
当应用程序需要操作系统的某些操作时，就执行*系统调用*指令，将控制权传递给内核，内核执行被请求的操作并返回应用程序
内核是系统管理全部进程所用代码的数据结构的集合
![[Pasted image 20240407101524.png|400]]

###### 线程
一个进程实际上可以由多个称为线程的执行单元组成，每个线程都运行在进程的上下文中，共享代码和全局数据

###### 虚拟内存
![[Pasted image 20240407102352.png|300]]

###### 文件
文件，字节序列


##### 8 系统之间利用网络通信
从一台主机复制信息到另一台主机
![[Pasted image 20240407102919.png|400]]


##### 9 重要主题
###### Amdahl定律
想要显著加速整个系统，必须提升全系统中相当大的部分的速度
？？

###### 并发和并行
- 线程级并发


- 指令级并行
	流水线
	将一条指令所需要的活动划分成不同的步骤

- 单指令、多数据并行
	？？？


###### 抽象的重要性
文件：I/O
虚拟内存：存储器
进程：运行程序
虚拟机：计算机
![[Pasted image 20240407104239.png|400]]


# 第一部分 程序结构和执行
### 第二章 信息的表示和处理
##### 1 信息存储
###### 十六进制表示法
一字节8位 
二进制：0000 0000 ~ 1111 1111
十进制：0 ~ 255
十六进制：00 ~ FF

###### 字数据大小
字长w位的机器 虚拟地址范围为 $0$ ~ $2^w - 1$

32位 ~ 4GB = $2^{32}B$ 
0000 0000 ~ FFFF FFFF 

###### 寻址和字节顺序
0x01234567
大端：01 23 45 67
小端：67 45 23 01

？？？

###### 表示字符串


###### 表示代码
不同的机器类型使用不同的且不兼容的指令和编码方式

###### 布尔代数简介


###### C语言中的位级运算
与、或、非、异或

###### C语言中的逻辑运算
OR AND NOT
返回0或1

###### C语言中的移位运算
左移、右移


##### 2 整数表示
###### 整型数据类型
关键字：char short long

Java只支持有符号数

###### 无符号数的编码
唯一性

###### 补码编码


###### 有符号数和无符号数之间的转换
？？？


###### C语言中的有符号数与无符号数



###### 扩展一个数字的位表示


###### 截断数字


###### 关于有符号数与无符号数的建议


##### 3 整数运算
###### 无符号加法
溢出

###### 补码加法
正溢
负溢

###### 补码的非


###### 无符号乘法


###### 补码乘法


###### 乘以常数


###### 除以2的幂


###### 关于整数运算的最后思考



##### 4 浮点数




##### 5 小结



### 第三章 程序的机器级表示



### 第四章 处理器体系结构



### 第五章 优化程序性能



### 第六章 存储器层次结构


# 第二部分 在系统上运行
### 第七章 链接



### 第八章 异常控制流



### 第九章 虚拟内存



# 第三部分 程序间的交流和通信
### 第十章 系统级I/O


### 第十一章 网络编程


### 第十二章 并发编程




